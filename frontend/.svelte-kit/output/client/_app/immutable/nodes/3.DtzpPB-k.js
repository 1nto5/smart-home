import{c as Y,a as u,d as xt,f as _,s as g}from"../chunks/B_G7EnjR.js";import{f as Z,p as bt,a9 as gt,s as n,c as s,j as i,d as $,g as r,t as j,i as ht,e as yt,$ as wt,ap as D,k as a}from"../chunks/DAortCmQ.js";import{i as z}from"../chunks/DAdKMhpF.js";import{e as Q,b as $t,s as l,k as ze,l as Pt,a as W,m as Ie,r as A,n as kt,o as Ht,p as Ot,u as St,q as Ct,v as At,w as Nt}from"../chunks/CPDa7M0J.js";import{h as Mt}from"../chunks/CY1b4ofp.js";import{b as I}from"../chunks/B3yA6lA3.js";import"../chunks/C9KLA5Bu.js";import{I as ee,s as te}from"../chunks/NXxA8x-m.js";import{l as re,s as ae}from"../chunks/BhN2kyAR.js";import{T as Tt}from"../chunks/Ik-j-KQY.js";import{X as Ee,P as jt}from"../chunks/C7FlHYm4.js";function Dt(C,h){const x=re(h,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.562.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const P=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9"}]];ee(C,ae({name:"circle-pause"},()=>x,{get iconNode(){return P},children:(k,d)=>{var p=Y(),w=Z(p);te(w,h,"default",{}),u(k,p)},$$slots:{default:!0}}))}function zt(C,h){const x=re(h,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.562.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const P=[["path",{d:"M12 6v6l4 2"}],["circle",{cx:"12",cy:"12",r:"10"}]];ee(C,ae({name:"clock"},()=>x,{get iconNode(){return P},children:(k,d)=>{var p=Y(),w=Z(p);te(w,h,"default",{}),u(k,p)},$$slots:{default:!0}}))}function Fe(C,h){const x=re(h,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.562.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const P=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];ee(C,ae({name:"plus"},()=>x,{get iconNode(){return P},children:(k,d)=>{var p=Y(),w=Z(p);te(w,h,"default",{}),u(k,p)},$$slots:{default:!0}}))}function It(C,h){const x=re(h,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.562.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const P=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];ee(C,ae({name:"trash-2"},()=>x,{get iconNode(){return P},children:(k,d)=>{var p=Y(),w=Z(p);te(w,h,"default",{}),u(k,p)},$$slots:{default:!0}}))}var Et=_('<div class="bg-warning/10 border border-warning/30 rounded-lg p-3 mb-4"><p class="text-sm text-warning">Schedules are paused while override is active</p></div>'),Ft=_('<div class="flex items-center gap-2"><input type="range" min="5" max="25" step="0.5" class="w-32 accent-accent"/> <span class="text-xl font-mono text-content-primary w-16"> </span></div>'),Vt=_('<div class="bg-surface-elevated border border-stroke-default rounded-xl p-4 mb-4"><div class="flex flex-col sm:flex-row gap-3"><input type="text" placeholder="Preset ID (e.g. away)" class="bg-surface-recessed border border-stroke-default rounded-lg px-3 py-2 text-content-primary placeholder:text-content-tertiary flex-1"/> <input type="text" placeholder="Display name (e.g. Away)" class="bg-surface-recessed border border-stroke-default rounded-lg px-3 py-2 text-content-primary placeholder:text-content-tertiary flex-1"/> <div class="flex items-center gap-2"><input type="number" min="5" max="30" step="0.5" class="bg-surface-recessed border border-stroke-default rounded-lg px-3 py-2 w-20 text-content-primary text-center"/> <span class="text-content-secondary">°C</span></div> <button class="bg-accent hover:bg-accent/80 disabled:opacity-50 px-4 py-2 rounded-lg text-white font-medium">Create</button> <button class="px-3 py-2 rounded-lg bg-surface-recessed text-content-secondary hover:bg-stroke-default transition-colors"><!></button></div></div>'),qt=_('<div class="flex items-center gap-2"><input type="number" min="5" max="30" step="0.5" class="bg-surface-recessed border border-stroke-default rounded px-2 py-1 w-16 text-content-primary text-center"/> <span class="text-content-secondary">°C</span> <button class="text-xs px-2 py-1 bg-success/20 text-success rounded">Save</button> <button class="text-xs px-2 py-1 bg-surface-recessed text-content-secondary rounded">Cancel</button></div>'),Lt=_('<button class="text-2xl font-mono text-content-primary hover:text-accent transition-colors"> </button>'),Rt=_('<div class="bg-surface-elevated border border-stroke-default rounded-xl p-4 relative group"><button class="absolute top-2 right-2 p-1 rounded bg-error/20 text-error opacity-0 group-hover:opacity-100 transition-opacity" title="Delete preset"><!></button> <div class="flex items-center justify-between mb-2"><span class="font-medium text-content-primary"> </span> <button class="p-1.5 rounded-lg bg-accent/20 text-accent hover:bg-accent/30 transition-colors disabled:opacity-50" title="Apply to all heaters"><!></button></div> <!></div>'),Ut=_("<option> </option>"),Xt=_('<p class="text-content-secondary">No heater schedules yet</p>'),Bt=_('<div><div class="flex items-center gap-4"><span class="text-xl font-mono text-content-primary"> </span> <div><span class="font-medium text-content-primary"> </span> <span class="text-sm text-content-secondary ml-2"> </span></div></div> <div class="flex gap-2"><button> </button> <button class="text-sm px-3 py-1 rounded-lg bg-error/20 text-error hover:bg-error/30 font-medium transition-colors"><!></button></div></div>'),Gt=_('<div class="space-y-2"></div>'),Jt=_('<button class="text-sm px-3 py-1 rounded-lg bg-surface-recessed text-content-secondary hover:bg-stroke-default transition-colors">Clear All</button>'),Kt=_('<p class="text-content-secondary">No pending actions (all heaters online)</p>'),Qt=_('<div class="bg-surface-elevated border border-stroke-default rounded-xl p-3 flex items-center justify-between"><div><span class="font-mono text-sm text-content-primary"> </span> <span class="text-sm text-content-secondary ml-2"> </span></div> <span class="text-xs text-content-tertiary"> </span></div>'),Wt=_('<div class="space-y-2"></div>'),Yt=_('<div class="space-y-8"><section><div class="flex items-center justify-between mb-4"><h2 class="text-lg font-medium text-content-primary flex items-center gap-2"><!> Override Mode</h2> <button> </button></div> <!> <div class="flex flex-col sm:flex-row gap-4"><div class="flex items-center gap-3"><label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="overrideMode" value="pause" class="accent-accent"/> <span class="text-content-primary">Pause schedules</span></label> <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="overrideMode" value="fixed" class="accent-accent"/> <span class="text-content-primary">Fixed temperature</span></label></div> <!></div></section> <section><div class="flex items-center justify-between mb-4"><h2 class="text-lg font-medium text-content-primary flex items-center gap-2"><!> Heater Presets</h2> <button class="text-sm px-3 py-1.5 rounded-lg bg-accent/20 text-accent hover:bg-accent/30 transition-colors flex items-center gap-1"><!> Add Preset</button></div> <!> <div class="grid grid-cols-2 sm:grid-cols-4 gap-3"></div></section> <section class="bg-surface-elevated border border-stroke-default rounded-xl p-4"><h2 class="text-lg font-medium text-content-primary mb-4 flex items-center gap-2"><!> Create Schedule</h2> <div class="flex flex-col sm:flex-row flex-wrap gap-3"><input type="text" placeholder="Schedule name" class="bg-surface-recessed border border-stroke-default rounded-lg px-3 py-2 w-full sm:flex-1 sm:min-w-[150px] text-content-primary placeholder:text-content-tertiary"/> <div class="flex gap-3"><select class="bg-surface-recessed border border-stroke-default rounded-lg px-3 py-2 text-content-primary flex-1 sm:flex-initial"></select> <input type="time" class="bg-surface-recessed border border-stroke-default rounded-lg px-3 py-2 text-content-primary"/></div> <button class="bg-accent hover:bg-accent/80 disabled:opacity-50 px-4 py-2 rounded-lg text-white font-medium w-full sm:w-auto">Add</button></div></section> <section><h2 class="text-lg font-medium text-content-primary mb-4 flex items-center gap-2"><!> </h2> <!></section> <section><div class="flex items-center justify-between mb-4"><h2 class="text-lg font-medium text-content-primary"> </h2> <!></div> <!></section></div>');function dr(C,h){bt(h,!0);let x=$(""),P=$("night"),k=$("22:00"),d=$(!1),p=$(null),w=$(21),N=$("pause"),E=$(18);gt(()=>{l.heaterOverride&&(i(N,l.heaterOverride.mode,!0),i(E,l.heaterOverride.fixed_temp,!0))});async function Ve(){var t;i(d,!0);const e=!((t=l.heaterOverride)!=null&&t.enabled);try{await ze(e,r(N),r(E)),await l.refreshHeaterOverride()}catch(o){console.error(o)}i(d,!1)}async function se(e){var o;if(!((o=l.heaterOverride)!=null&&o.enabled))return;i(d,!0);const t=e??r(N);try{await ze(!0,t,r(E)),await l.refreshHeaterOverride()}catch(c){console.error(c)}i(d,!1)}async function qe(){if(r(x).trim()){i(d,!0);try{await Pt(r(x).trim(),r(P),r(k)),i(x,""),await l.refreshHeaterSchedules()}catch(e){console.error(e)}i(d,!1)}}async function Le(e){await At(e),await l.refreshHeaterSchedules()}async function Re(e){await Ct(e),await l.refreshHeaterSchedules()}async function Ue(){await Nt(),await l.refreshPendingHeater()}function Xe(e){i(p,e.id,!0),i(w,e.target_temp,!0)}async function Be(e){await St(e,r(w)),i(p,null),await l.refreshHeaterPresets()}function Ge(){i(p,null)}let L=$(!1),F=$(""),V=$(""),B=$(20);async function Je(){if(!(!r(F).trim()||!r(V).trim())){i(d,!0);try{const e=r(F).trim().toLowerCase().replace(/\s+/g,"-");await kt(e,r(V).trim(),r(B)),i(F,""),i(V,""),i(B,20),i(L,!1),await l.refreshHeaterPresets()}catch(e){console.error(e),alert(e.message||"Failed to create preset")}i(d,!1)}}async function Ke(e){if(confirm(`Delete preset "${e}"? This will also delete any schedules using this preset.`)){i(d,!0);try{await Ht(e),await l.refreshHeaterPresets(),await l.refreshHeaterSchedules()}catch(t){console.error(t)}i(d,!1)}}async function Qe(e){i(d,!0);try{const t=await Ot(e);console.log("Applied preset:",t),await l.refreshPendingHeater()}catch(t){console.error(t)}i(d,!1)}function ke(e){const t=l.heaterPresets.find(o=>o.id===e);return(t==null?void 0:t.name)??e}var ne=Yt();Mt("1wpfyiy",e=>{yt(()=>{wt.title="Smart Home - Heater Schedule"})});var G=s(ne),oe=s(G),ie=s(oe),We=s(ie);Dt(We,{class:"w-5 h-5"}),D(),a(ie);var R=n(ie,2);R.__click=Ve;var Ye=s(R,!0);a(R),a(oe);var He=n(oe,2);{var Ze=e=>{var t=Et();u(e,t)};z(He,e=>{var t;(t=l.heaterOverride)!=null&&t.enabled&&e(Ze)})}var Oe=n(He,2),ce=s(Oe),le=s(ce),de=s(le);A(de),de.__change=()=>{i(N,"pause"),se("pause")},D(2),a(le);var Se=n(le,2),ve=s(Se);A(ve),ve.__change=()=>{i(N,"fixed"),se("fixed")},D(2),a(Se),a(ce);var et=n(ce,2);{var tt=e=>{var t=Ft(),o=s(t);A(o),o.__change=()=>se();var c=n(o,2),v=s(c);a(c),a(t),j(()=>g(v,`${r(E)??""}°C`)),I(o,()=>r(E),f=>i(E,f)),u(e,t)};z(et,e=>{r(N)==="fixed"&&e(tt)})}a(Oe),a(G);var ue=n(G,2),pe=s(ue),fe=s(pe),rt=s(fe);Tt(rt,{class:"w-5 h-5"}),D(),a(fe);var me=n(fe,2);me.__click=()=>i(L,!r(L));var at=s(me);Fe(at,{class:"w-4 h-4"}),D(),a(me),a(pe);var Ce=n(pe,2);{var st=e=>{var t=Vt(),o=s(t),c=s(o);A(c);var v=n(c,2);A(v);var f=n(v,2),b=s(f);A(b),D(2),a(f);var H=n(f,2);H.__click=Je;var y=n(H,2);y.__click=()=>i(L,!1);var M=s(y);Ee(M,{class:"w-5 h-5"}),a(y),a(o),a(t),j(m=>H.disabled=m,[()=>r(d)||!r(F).trim()||!r(V).trim()]),I(c,()=>r(F),m=>i(F,m)),I(v,()=>r(V),m=>i(V,m)),I(b,()=>r(B),m=>i(B,m)),u(e,t)};z(Ce,e=>{r(L)&&e(st)})}var Ae=n(Ce,2);Q(Ae,21,()=>l.heaterPresets,e=>e.id,(e,t)=>{var o=Rt(),c=s(o);c.__click=()=>Ke(r(t).id);var v=s(c);Ee(v,{class:"w-3 h-3"}),a(c);var f=n(c,2),b=s(f),H=s(b,!0);a(b);var y=n(b,2);y.__click=()=>Qe(r(t).id);var M=s(y);jt(M,{class:"w-4 h-4"}),a(y),a(f);var m=n(f,2);{var U=T=>{var O=qt(),S=s(O);A(S);var K=n(S,4);K.__click=()=>Be(r(t).id);var X=n(K,2);X.__click=Ge,a(O),I(S,()=>r(w),Pe=>i(w,Pe)),u(T,O)},q=T=>{var O=Lt();O.__click=()=>Xe(r(t));var S=s(O);a(O),j(()=>g(S,`${r(t).target_temp??""}°C`)),u(T,O)};z(m,T=>{r(p)===r(t).id?T(U):T(q,!1)})}a(o),j(()=>{g(H,r(t).name),y.disabled=r(d)}),u(e,o)}),a(Ae),a(ue);var _e=n(ue,2),xe=s(_e),nt=s(xe);Fe(nt,{class:"w-5 h-5"}),D(),a(xe);var Ne=n(xe,2),be=s(Ne);A(be);var ge=n(be,2),J=s(ge);Q(J,21,()=>l.heaterPresets,e=>e.id,(e,t)=>{var o=Ut(),c=s(o);a(o);var v={};j(()=>{g(c,`${r(t).name??""} (${r(t).target_temp??""}°C)`),v!==(v=r(t).id)&&(o.value=(o.__value=r(t).id)??"")}),u(e,o)}),a(J);var Me=n(J,2);A(Me),a(ge);var Te=n(ge,2);Te.__click=qe,a(Ne),a(_e);var he=n(_e,2),ye=s(he),je=s(ye);zt(je,{class:"w-5 h-5"});var ot=n(je);a(ye);var it=n(ye,2);{var ct=e=>{var t=Xt();u(e,t)},lt=e=>{var t=Gt();Q(t,21,()=>l.heaterSchedules,o=>o.id,(o,c)=>{var v=Bt();let f;var b=s(v),H=s(b),y=s(H,!0);a(H);var M=n(H,2),m=s(M),U=s(m,!0);a(m);var q=n(m,2),T=s(q);a(q),a(M),a(b);var O=n(b,2),S=s(O);S.__click=()=>Re(r(c).id);var K=s(S,!0);a(S);var X=n(S,2);X.__click=()=>Le(r(c).id);var Pe=s(X);It(Pe,{class:"w-4 h-4"}),a(X),a(O),a(v),j(_t=>{f=W(v,1,"bg-surface-elevated border border-stroke-default rounded-xl p-3 flex items-center justify-between",null,f,{"opacity-50":!r(c).enabled}),g(y,r(c).time),g(U,r(c).name),g(T,`(${_t??""})`),W(S,1,`text-sm px-3 py-1 rounded-lg font-medium transition-colors
                       ${r(c).enabled?"bg-success/20 text-success":"bg-surface-recessed text-content-secondary"}`),g(K,r(c).enabled?"On":"Off")},[()=>ke(r(c).preset_id)]),u(o,v)}),a(t),u(e,t)};z(it,e=>{l.heaterSchedules.length===0?e(ct):e(lt,!1)})}a(he);var De=n(he,2),we=s(De),$e=s(we),dt=s($e);a($e);var vt=n($e,2);{var ut=e=>{var t=Jt();t.__click=Ue,u(e,t)};z(vt,e=>{l.pendingHeaterActions.length>0&&e(ut)})}a(we);var pt=n(we,2);{var ft=e=>{var t=Kt();u(e,t)},mt=e=>{var t=Wt();Q(t,21,()=>l.pendingHeaterActions,o=>o.id,(o,c)=>{var v=Qt(),f=s(v),b=s(f),H=s(b,!0);a(b);var y=n(b,2),M=s(y);a(y),a(f);var m=n(f,2),U=s(m);a(m),a(v),j(q=>{g(H,r(c).device_id),g(M,`→ ${q??""}`),g(U,`Retry #${r(c).retry_count??""}`)},[()=>ke(r(c).preset_id)]),u(o,v)}),a(t),u(e,t)};z(pt,e=>{l.pendingHeaterActions.length===0?e(ft):e(mt,!1)})}a(De),a(ne),j(e=>{var t,o,c;W(G,1,`bg-surface-elevated border rounded-xl p-4 ${(t=l.heaterOverride)!=null&&t.enabled?"border-warning":"border-stroke-default"}`),R.disabled=r(d),W(R,1,`px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50
               ${(o=l.heaterOverride)!=null&&o.enabled?"bg-warning text-white hover:bg-warning/80":"bg-surface-recessed text-content-secondary hover:bg-stroke-default"}`),g(Ye,(c=l.heaterOverride)!=null&&c.enabled?"Active":"Off"),Ie(de,r(N)==="pause"),Ie(ve,r(N)==="fixed"),Te.disabled=e,g(ot,` Schedules (${l.heaterSchedules.length??""})`),g(dt,`Pending Actions (${l.pendingHeaterActions.length??""})`)},[()=>r(d)||!r(x).trim()]),I(be,()=>r(x),e=>i(x,e)),$t(J,()=>r(P),e=>i(P,e)),I(Me,()=>r(k),e=>i(k,e)),u(C,ne),ht()}xt(["click","change"]);export{dr as component};
