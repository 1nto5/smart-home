import{d as $t,c as Zt,e as oa,a as n,f as u,s as l,t as We,b as ie}from"../chunks/BdGXCaaf.js";import{B as Ie,$ as Jt,aD as Z,a5 as Ut,a0 as a,a1 as e,a2 as r,a4 as h,b5 as la,a6 as se,b as t,a3 as ct,s as x,a9 as rt,aN as he,c as Ee,a7 as da,a8 as va}from"../chunks/CKtoZ9Il.js";import{i as j}from"../chunks/CbCO2Vro.js";import{f as be,s as Q,h as Xt,e as Nt,i as Kt,j as ca,k as ua,l as He,m as ma,n as xa,o as pa,p as ga,q as _a,r as fa,u as Ge,v as Yt,w as Fe}from"../chunks/YN5YbcMn.js";import{h as ba}from"../chunks/D6iQrA29.js";import{s as y,r as re,b as ne}from"../chunks/C2tPD3ws.js";import{p as qt}from"../chunks/ChVwLISL.js";import{s as ha}from"../chunks/b25NGLIX.js";import{a as ya}from"../chunks/CxA4e2Oe.js";import{b as wa}from"../chunks/CMJw4TJe.js";function ae(X,s,N,d){var i=X.__style;if(Ie||i!==s){var w=ya(s,d);(!Ie||w!==X.getAttribute("style"))&&(w==null?X.removeAttribute("style"):X.style.cssText=w),X.__style=s}return d}const za={"korytarz 1":"Hallway 1","korytarz 2":"Hallway 2",kuchnia:"Kitchen",salon:"Living Room",sypialnia:"Bedroom",≈Çazienka:"Bathroom","pok√≥j dzieci":"Kids Room",jadalnia:"Dining Room",gabinet:"Study",pralnia:"Laundry","Czujnik zalania kuchnia":"Water Sensor Kitchen","Czujnik zalania ≈Çazienka":"Water Sensor Bathroom","Czujnik zalania":"Water Sensor","Stacja meteo":"Weather Station",Drzwi:"Door Sensor","Grzejnik salon":"Radiator Living Room","Grzejnik sypialnia":"Radiator Bedroom","Grzejnik kuchnia":"Radiator Kitchen","Grzejnik ≈Çazienka":"Radiator Bathroom","Grzejnik korytarz":"Radiator Hallway","Grzejnik pok√≥j dzieci":"Radiator Kids Room",Grzejnik:"Radiator"},ka={korytarz:"Hallway",kuchnia:"Kitchen",salon:"Living Room",sypialnia:"Bedroom",≈Çazienka:"Bathroom","pok√≥j dzieci":"Kids Room",pok√≥j:"Room",dzieci:"Kids","Czujnik zalania":"Water Sensor","Stacja meteo":"Weather Station",Grzejnik:"Radiator",Drzwi:"Door",Lampa:"Light",du≈ºy:"Large",ma≈Çy:"Small",g≈Ç√≥wny:"Main",g√≥rny:"Upper",dolny:"Lower"};function oe(X){if(!X)return X;const s=X.toLowerCase();for(const[i,w]of Object.entries(za))if(s===i.toLowerCase())return w;let N=X;const d=Object.entries(ka).sort((i,w)=>w[0].length-i[0].length);for(const[i,w]of d){const O=new RegExp(i,"gi");N=N.replace(O,w)}return N}var Sa=u('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in svelte-alpl3u" role="dialog" aria-modal="true" aria-labelledby="dialog-title" tabindex="-1"><div class="glass-card rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden shadow-2xl"><div class="flex items-center justify-between p-4 border-b border-[var(--glass-border)]"><h2 id="dialog-title" class="text-lg font-semibold"> </h2> <button aria-label="Close dialog" class="w-8 h-8 rounded-lg bg-zinc-800/60 text-zinc-400 hover:text-white hover:bg-zinc-700/60 transition-colors flex items-center justify-center"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="p-4 overflow-y-auto max-h-[calc(80vh-64px)]"><!></div></div></div>');function te(X,s){Jt(s,!0);let N=qt(s,"open",3,!1);function d(k){k.target===k.currentTarget&&s.onclose()}function i(k){k.key==="Escape"&&s.onclose()}var w=Zt();oa("keydown",la,i);var O=Z(w);{var I=k=>{var C=Sa();C.__click=d,C.__keydown=i;var S=a(C),Y=a(S),A=a(Y),bt=a(A,!0);e(A);var D=r(A,2);D.__click=function(...kt){var pt;(pt=s.onclose)==null||pt.apply(this,kt)},e(Y);var ut=r(Y,2),it=a(ut);ha(it,()=>s.children),e(ut),e(S),e(C),h(()=>l(bt,s.title)),n(k,C)};j(O,k=>{N()&&k(I)})}n(X,w),Ut()}$t(["click","keydown"]);var Ma=u('<div class="w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"></div>'),ja=ie('<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a.75.75 0 01.75.75v6.5a.75.75 0 01-1.5 0v-6.5A.75.75 0 0110 2z"></path><path d="M5.404 4.343a.75.75 0 10-1.06 1.06 6.5 6.5 0 109.192 0 .75.75 0 00-1.06-1.06 5 5 0 11-7.072 0z"></path></svg>'),Ca=u('<p class="text-xs text-indigo-400">Moonlight</p>'),Ta=u('<p class="text-xs text-[var(--muted)]"> </p>'),Ra=u('<p class="text-xs text-[var(--muted)]"> </p>'),Ba=u("<button> </button>"),Oa=u('<div><div class="flex justify-between text-sm text-[var(--muted)] mb-2"><span>Brightness</span> <span class="font-medium text-white"> </span></div> <input type="range" min="1" max="100" class="w-full"/></div> <div><div class="flex justify-between text-sm text-[var(--muted)] mb-2"><span>Color Temperature</span> <span class="font-medium text-white"> </span></div> <input type="range" min="1700" max="6500" step="100" class="w-full"/> <div class="flex justify-between text-xs text-[var(--muted)] mt-1"><span>Warm</span> <span>Cool</span></div></div>',1),Pa=u('<div class="py-4 text-center text-sm text-indigo-400/80">Hardware night light mode active</div>'),Aa=u('<div><p class="text-sm text-[var(--muted)] mb-2">Presets</p> <div class="grid grid-cols-3 gap-2"></div></div> <!>',1),Da=u('<button> </button> <!> <div class="pt-4 border-t border-[var(--glass-border)] space-y-2 text-sm"><div class="flex justify-between"><span class="text-[var(--muted)]">Model</span> <span class="font-mono text-xs"> </span></div> <div class="flex justify-between"><span class="text-[var(--muted)]">IP Address</span> <span class="font-mono text-xs"> </span></div></div>',1),La=u('<div class="space-y-4"><div class="flex items-center justify-between"><span class="text-[var(--muted)]">Status</span> <span><!></span></div> <!></div>'),Va=u('<div role="button" tabindex="0"><div class="flex items-center gap-2.5"><button><!></button> <div class="min-w-0 flex-1"><h4 class="font-medium text-sm truncate"> </h4> <!></div></div></div> <!>',1);function Na(X,s){Jt(s,!0);let N=qt(s,"compact",3,!1),d=rt(()=>oe(s.lamp.name)),i=rt(()=>Q.lampStatuses.get(s.lamp.id)),w=ct(!1),O=ct(!1),I=ct(!1),k=ct(null),C=ct(null),S=rt(()=>{var f;return t(k)??((f=t(i))==null?void 0:f.brightness)??0}),Y=rt(()=>{var f;return t(C)??((f=t(i))==null?void 0:f.color_temp)??0});se(()=>{t(O)||(x(O,!0),be(s.lamp.id).then(f=>Q.updateLampStatus(s.lamp.id,f.status)).catch(()=>{}))});async function A(f){f.stopPropagation(),x(w,!0);try{await Xt(s.lamp.id,{toggle:!0});const z=await be(s.lamp.id);Q.updateLampStatus(s.lamp.id,z.status)}catch(z){console.error(z)}x(w,!1)}async function bt(f){x(k,null);try{await Xt(s.lamp.id,{brightness:f}),t(i)&&Q.updateLampStatus(s.lamp.id,{...t(i),brightness:f})}catch(z){console.error(z)}}async function D(f){x(C,null);try{await Xt(s.lamp.id,{color_temp:f}),t(i)&&Q.updateLampStatus(s.lamp.id,{...t(i),color_temp:f})}catch(z){console.error(z)}}const ut=[{id:"day",label:"Day",brightness:100,colorTemp:5e3,moonlight:!1},{id:"night",label:"Night",brightness:30,colorTemp:2700,moonlight:!1},{id:"moonlight",label:"Moonlight",brightness:10,colorTemp:2700,moonlight:!0}];async function it(f){var z,K;x(w,!0);try{f.moonlight?await Xt(s.lamp.id,{moonlight:!0,moonlight_brightness:f.brightness}):((z=t(i))!=null&&z.moonlight_mode?await Xt(s.lamp.id,{moonlight:!1}):(K=t(i))!=null&&K.power||await Xt(s.lamp.id,{power:!0}),await Xt(s.lamp.id,{brightness:f.brightness,color_temp:f.colorTemp}));const q=await be(s.lamp.id);Q.updateLampStatus(s.lamp.id,q.status)}catch(q){console.error(q)}x(w,!1)}function kt(f){var q,c,g;if(!((q=t(i))!=null&&q.power))return!1;if(f.moonlight)return((c=t(i))==null?void 0:c.moonlight_mode)??!1;if((g=t(i))!=null&&g.moonlight_mode)return!1;const z=Math.abs(t(i).brightness-f.brightness)<=5,K=Math.abs(t(i).color_temp-f.colorTemp)<=200;return z&&K}var pt=Va(),gt=Z(pt);gt.__click=()=>x(I,!0),gt.__keydown=f=>f.key==="Enter"&&x(I,!0);var St=a(gt),ht=a(St);ht.__click=A;let st;var T=a(ht);{var E=f=>{var z=Ma();n(f,z)},M=f=>{var z=ja();n(f,z)};j(T,f=>{t(w)?f(E):f(M,!1)})}e(ht);var m=r(ht,2),p=a(m),o=a(p,!0);e(p);var _=r(p,2);{var L=f=>{var z=Zt(),K=Z(z);{var q=g=>{var v=Ca();n(g,v)},c=g=>{var v=Ta(),b=a(v);e(v),h(()=>l(b,`${t(i).brightness??""}% ¬∑ ${t(i).color_temp??""}K`)),n(g,v)};j(K,g=>{t(i).moonlight_mode?g(q):g(c,!1)})}n(f,z)},_t=f=>{var z=Ra(),K=a(z,!0);e(z),h(()=>l(K,t(i)?"Off":"Offline")),n(f,z)};j(_,f=>{var z;(z=t(i))!=null&&z.power?f(L):f(_t,!1)})}e(m),e(St),e(gt);var lt=r(gt,2);te(lt,{get open(){return t(I)},onclose:()=>x(I,!1),get title(){return t(d)},children:(f,z)=>{var K=La(),q=a(K),c=r(a(q),2),g=a(c);{var v=H=>{var V=We();h(()=>l(V,t(i).moonlight_mode?"Moonlight":"On")),n(H,V)},b=H=>{var V=We();h(()=>l(V,t(i)?"Off":"Offline")),n(H,V)};j(g,H=>{var V;(V=t(i))!=null&&V.power?H(v):H(b,!1)})}e(c),e(q);var W=r(q,2);{var J=H=>{var V=Da(),$=Z(V);$.__click=A;var Ct=a($,!0);e($);var mt=r($,2);{var yt=R=>{var B=Aa(),P=Z(B),U=r(a(P),2);Nt(U,21,()=>ut,Kt,(ot,et)=>{var vt=Ba();vt.__click=()=>it(t(et));var Lt=a(vt,!0);e(vt),h(Wt=>{vt.disabled=t(w),y(vt,1,`py-2.5 text-sm rounded-lg transition-all
                       ${Wt??""}
                       disabled:opacity-50`),l(Lt,t(et).label)},[()=>kt(t(et))?t(et).moonlight?"bg-indigo-500/20 text-indigo-400":"bg-amber-500/20 text-amber-400":"bg-zinc-800/60 text-zinc-400 hover:bg-zinc-700/60"]),n(ot,vt)}),e(U),e(P);var Ot=r(P,2);{var Dt=ot=>{var et=Oa(),vt=Z(et),Lt=a(vt),Wt=r(a(Lt),2),Gt=a(Wt);e(Wt),e(Lt);var jt=r(Lt,2);re(jt),jt.__input=xt=>x(k,parseInt(xt.currentTarget.value),!0),jt.__change=xt=>bt(parseInt(xt.currentTarget.value)),e(vt);var Pt=r(vt,2),At=a(Pt),Et=r(a(At),2),Vt=a(Et);e(Et),e(At);var ft=r(At,2);re(ft),ft.__input=xt=>x(C,parseInt(xt.currentTarget.value),!0),ft.__change=xt=>D(parseInt(xt.currentTarget.value)),he(2),e(Pt),h(()=>{l(Gt,`${t(S)??""}%`),ne(jt,t(S)),l(Vt,`${t(Y)??""}K`),ne(ft,t(Y))}),n(ot,et)},Mt=ot=>{var et=Pa();n(ot,et)};j(Ot,ot=>{t(i).moonlight_mode?ot(Mt,!1):ot(Dt)})}n(R,B)};j(mt,R=>{t(i).power&&R(yt)})}var tt=r(mt,2),dt=a(tt),wt=r(a(dt),2),Tt=a(wt,!0);e(wt),e(dt);var Rt=r(dt,2),zt=r(a(Rt),2),nt=a(zt,!0);e(zt),e(Rt),e(tt),h(()=>{$.disabled=t(w),y($,1,`w-full py-4 rounded-xl text-lg font-medium transition-all
               ${t(i).power?t(i).moonlight_mode?"bg-indigo-500/20 text-indigo-400":"bg-amber-500/20 text-amber-400":"bg-zinc-800 text-zinc-400"}
               hover:scale-[1.02] disabled:opacity-50`),l(Ct,t(i).power?"Turn Off":"Turn On"),l(Tt,s.lamp.model),l(nt,s.lamp.ip)}),n(H,V)};j(W,H=>{t(i)&&H(J)})}e(K),h(()=>{var H,V;return y(c,1,`font-medium ${(H=t(i))!=null&&H.power?(V=t(i))!=null&&V.moonlight_mode?"text-indigo-400":"text-amber-400":"text-zinc-500"}`)}),n(f,K)},$$slots:{default:!0}}),h(()=>{var f,z,K;y(gt,1,`glass-card rounded-xl transition-card hover:scale-[1.02] ${N()?"p-2.5":"p-3"} w-full text-left cursor-pointer`),ht.disabled=t(w)||!t(i),st=y(ht,1,`w-9 h-9 rounded-lg flex items-center justify-center transition-all shrink-0
             ${(f=t(i))!=null&&f.power?(z=t(i))!=null&&z.moonlight_mode?"bg-indigo-500/20 text-indigo-400":"bg-amber-500/20 text-amber-400":"bg-zinc-800/60 text-zinc-500"}
             hover:scale-105 disabled:opacity-50 disabled:hover:scale-100`,null,st,{"status-active":(K=t(i))==null?void 0:K.power}),l(o,t(d))}),n(X,pt),Ut()}$t(["click","keydown","input","change"]);var Wa=u("<p> </p>"),Ia=u('<p class="text-xs text-[var(--muted)]">Offline</p>'),Ea=u('<div class="flex items-center gap-1 text-xs shrink-0"><svg fill="currentColor" viewBox="0 0 20 20"><path d="M2 11.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1zm4-3a.5.5 0 01.5-.5h1a.5.5 0 01.5.5v4a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-4z"></path><path d="M8 4.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5v8a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-8z"></path></svg> <span> </span></div>'),Ha=u('<button><div class="text-base mb-0.5"> </div> </button>'),Ga=u('<button><div class="text-base mb-0.5"> </div> </button>'),Fa=u(`<div><p class="text-sm text-[var(--muted)] mb-2">Actions</p> <div class="grid grid-cols-3 gap-2"><button class="py-4 rounded-xl bg-green-500/20 text-green-400 text-sm font-medium
                     hover:bg-green-500/30 disabled:opacity-50 transition-colors flex flex-col items-center gap-1"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg> Start</button> <button class="py-4 rounded-xl bg-yellow-500/20 text-yellow-400 text-sm font-medium
                     hover:bg-yellow-500/30 disabled:opacity-50 transition-colors flex flex-col items-center gap-1"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> Pause</button> <button class="py-4 rounded-xl bg-blue-500/20 text-blue-400 text-sm font-medium
                     hover:bg-blue-500/30 disabled:opacity-50 transition-colors flex flex-col items-center gap-1"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path></svg> Home</button></div></div> <div><button class="w-full py-3 rounded-xl bg-zinc-800/60 text-zinc-400 text-sm font-medium
                   hover:bg-zinc-700/60 disabled:opacity-50 transition-colors">Find Robot</button></div> <div><p class="text-sm text-[var(--muted)] mb-2">Suction Power</p> <div class="grid grid-cols-4 gap-1"></div></div> <div><p class="text-sm text-[var(--muted)] mb-2">Mop Intensity</p> <div class="grid grid-cols-4 gap-1"></div></div>`,1),Ka=u("<button> </button>"),Ya=u(`<button class="w-full mt-3 py-3 rounded-xl bg-cyan-500/20 text-cyan-400 text-sm font-medium
                       hover:bg-cyan-500/30 disabled:opacity-50 transition-colors"> </button>`),qa=u('<div class="grid grid-cols-2 gap-2"></div> <!>',1),Ja=u('<p class="text-zinc-500 text-sm">Loading rooms...</p>'),Ua=u('<div><p class="text-sm text-[var(--muted)] mb-2">Select rooms to clean</p> <!></div>'),Qa=u('<div><p class="text-sm text-[var(--muted)] mb-3">Consumables</p> <div class="space-y-3"><div><div class="flex justify-between text-xs mb-1"><span class="text-zinc-400">Main Brush</span> <div class="flex items-center gap-2"><span class="text-zinc-500"> </span> <button class="text-[10px] px-1.5 py-0.5 rounded bg-zinc-700 hover:bg-zinc-600 text-zinc-400 disabled:opacity-50">Reset</button></div></div> <div class="h-2 bg-zinc-700 rounded-full overflow-hidden"><div></div></div></div> <div><div class="flex justify-between text-xs mb-1"><span class="text-zinc-400">Side Brush</span> <div class="flex items-center gap-2"><span class="text-zinc-500"> </span> <button class="text-[10px] px-1.5 py-0.5 rounded bg-zinc-700 hover:bg-zinc-600 text-zinc-400 disabled:opacity-50">Reset</button></div></div> <div class="h-2 bg-zinc-700 rounded-full overflow-hidden"><div></div></div></div> <div><div class="flex justify-between text-xs mb-1"><span class="text-zinc-400">Filter</span> <div class="flex items-center gap-2"><span class="text-zinc-500"> </span> <button class="text-[10px] px-1.5 py-0.5 rounded bg-zinc-700 hover:bg-zinc-600 text-zinc-400 disabled:opacity-50">Reset</button></div></div> <div class="h-2 bg-zinc-700 rounded-full overflow-hidden"><div></div></div></div> <div><div class="flex justify-between text-xs mb-1"><span class="text-zinc-400">Sensors</span> <div class="flex items-center gap-2"><span class="text-zinc-500"> </span> <button class="text-[10px] px-1.5 py-0.5 rounded bg-zinc-700 hover:bg-zinc-600 text-zinc-400 disabled:opacity-50">Reset</button></div></div> <div class="h-2 bg-zinc-700 rounded-full overflow-hidden"><div></div></div></div></div></div>'),Xa=u('<p class="text-zinc-500 text-sm">Loading consumables...</p>'),Za=u(`<div><div class="flex justify-between items-center mb-2"><span class="text-sm text-[var(--muted)]">Volume</span> <span class="text-sm font-medium"> </span></div> <input type="range" min="0" max="100" step="10" class="w-full h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer
                   [&amp;::-webkit-slider-thumb]:appearance-none [&amp;::-webkit-slider-thumb]:w-4 [&amp;::-webkit-slider-thumb]:h-4
                   [&amp;::-webkit-slider-thumb]:bg-white [&amp;::-webkit-slider-thumb]:rounded-full [&amp;::-webkit-slider-thumb]:cursor-pointer"/></div> <!>`,1),$a=u('<div class="grid grid-cols-2 gap-3"><div class="bg-zinc-800/40 rounded-xl p-4 text-center"><span class="text-xs text-[var(--muted)]">Battery</span> <p> </p></div> <div class="bg-zinc-800/40 rounded-xl p-4 text-center"><span class="text-xs text-[var(--muted)]">Fan Speed</span> <p class="text-2xl font-bold mt-1"> </p></div></div> <div class="flex gap-1 bg-zinc-800/40 rounded-lg p-1"><button>Controls</button> <button>Rooms</button> <button>Settings</button></div> <!> <div class="pt-4 border-t border-[var(--glass-border)] space-y-2 text-sm"><div class="flex justify-between"><span class="text-[var(--muted)]">Model</span> <span class="font-mono text-xs">Roborock S8</span></div></div>',1),tr=u('<div class="text-center py-8 text-[var(--muted)]">Start bridge to control robot</div>'),er=u('<div class="space-y-4"><div class="flex items-center justify-between"><span class="text-[var(--muted)]">Status</span> <span> </span></div> <!></div>'),ar=u('<div role="button" tabindex="0"><div class="flex items-center gap-2.5"><div><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z" clip-rule="evenodd"></path></svg></div> <div class="min-w-0 flex-1"><h4 class="font-medium text-sm truncate">Roborock</h4> <!></div> <!></div></div> <!>',1);function rr(X,s){Jt(s,!0);let N=qt(s,"compact",3,!1),d=ct(!1),i=ct(!1),w=ct(Ee([])),O=ct(Ee(new Set)),I=ct(30),k=ct(null),C=ct("controls");const S={1:"Starting",2:"Charger disconnected",3:"Idle",4:"Remote control",5:"Cleaning",6:"Returning",7:"Manual mode",8:"Charging",9:"Charging problem",10:"Paused",11:"Spot cleaning",12:"Error",13:"Shutting down",14:"Updating",15:"Docking",16:"Going to target",17:"Zoned cleaning",18:"Segment cleaning",22:"Emptying dustbin",23:"Washing mop",26:"Going to wash mop"},Y=[{mode:101,name:"Quiet",icon:"üîá"},{mode:102,name:"Balanced",icon:"‚öñÔ∏è"},{mode:103,name:"Turbo",icon:"üí®"},{mode:104,name:"Max",icon:"üî•"}],A=[{mode:200,name:"Off",icon:"‚ùå"},{mode:201,name:"Low",icon:"üíß"},{mode:202,name:"Med",icon:"üíßüíß"},{mode:203,name:"High",icon:"üíßüíßüíß"}];function bt(v){return S[v]||"Unknown"}function D(v){const b=Y.find(W=>W.mode===v);return b?b.name:`${v}%`}async function ut(){try{const[v,b,W]=await Promise.all([ca(),ua(),He()]);x(w,v.rooms,!0),x(I,b.volume,!0),x(k,W,!0)}catch(v){console.error("Failed to load extended data:",v)}}async function it(v){x(d,!0);try{await ma(v),await Q.refreshRoborock()}catch(b){console.error(b)}x(d,!1)}async function kt(v){x(d,!0);try{await xa(v),await Q.refreshRoborock()}catch(b){console.error(b)}x(d,!1)}async function pt(v){x(d,!0);try{await pa(v),await Q.refreshRoborock()}catch(b){console.error(b)}x(d,!1)}async function gt(v){x(I,v,!0);try{await ga(v)}catch(b){console.error(b)}}function St(v){const b=new Set(t(O));b.has(v)?b.delete(v):b.add(v),x(O,b,!0)}async function ht(){if(t(O).size!==0){x(d,!0);try{await _a([...t(O)]),x(O,new Set,!0),await Q.refreshRoborock()}catch(v){console.error(v)}x(d,!1)}}function st(v,b){const W=v/3600;return Math.max(0,Math.min(100,W/b*100))}function T(v){return v<50?"bg-green-500":v<80?"bg-yellow-500":"bg-red-500"}async function E(v){x(d,!0);try{await fa(v);const b=await He();x(k,b,!0)}catch(b){console.error(b)}x(d,!1)}function M(v){switch(v){case 5:case 11:case 17:case 18:return{color:"text-green-400",bg:"bg-green-500/20"};case 8:return{color:"text-blue-400",bg:"bg-blue-500/20"};case 3:return{color:"text-zinc-400",bg:"bg-zinc-800/60"};case 10:return{color:"text-yellow-400",bg:"bg-yellow-500/20"};case 6:case 15:case 16:case 26:return{color:"text-cyan-400",bg:"bg-cyan-500/20"};case 12:case 9:return{color:"text-red-400",bg:"bg-red-500/20"};default:return{color:"text-zinc-400",bg:"bg-zinc-800/60"}}}let m=rt(()=>s.status?M(s.status.state):{color:"text-zinc-500",bg:"bg-zinc-800/60"});se(()=>{t(i)&&ut()});var p=ar(),o=Z(p);o.__click=()=>x(i,!0),o.__keydown=v=>v.key==="Enter"&&x(i,!0);var _=a(o),L=a(_);let _t;var lt=r(L,2),f=r(a(lt),2);{var z=v=>{var b=Wa(),W=a(b,!0);e(b),h(J=>{y(b,1,`text-xs ${t(m).color??""}`),l(W,J)},[()=>bt(s.status.state)]),n(v,b)},K=v=>{var b=Ia();n(v,b)};j(f,v=>{s.status?v(z):v(K,!1)})}e(lt);var q=r(lt,2);{var c=v=>{var b=Ea(),W=a(b),J=r(W,2),H=a(J);e(J),e(b),h(()=>{y(W,0,`w-3.5 h-3.5 ${s.status.battery>20?"text-green-400":"text-red-400"}`),y(J,1,s.status.battery>20?"text-zinc-400":"text-red-400"),l(H,`${s.status.battery??""}%`)}),n(v,b)};j(q,v=>{N()&&s.status&&v(c)})}e(_),e(o);var g=r(o,2);te(g,{get open(){return t(i)},onclose:()=>x(i,!1),title:"Roborock",children:(v,b)=>{var W=er(),J=a(W),H=r(a(J),2),V=a(H,!0);e(H),e(J);var $=r(J,2);{var Ct=yt=>{var tt=$a(),dt=Z(tt),wt=a(dt),Tt=r(a(wt),2),Rt=a(Tt);e(Tt),e(wt);var zt=r(wt,2),nt=r(a(zt),2),R=a(nt,!0);e(nt),e(zt),e(dt);var B=r(dt,2),P=a(B);P.__click=()=>x(C,"controls");var U=r(P,2);U.__click=()=>x(C,"rooms");var Ot=r(U,2);Ot.__click=()=>x(C,"settings"),e(B);var Dt=r(B,2);{var Mt=et=>{var vt=Fa(),Lt=Z(vt),Wt=r(a(Lt),2),Gt=a(Wt);Gt.__click=()=>it("start");var jt=r(Gt,2);jt.__click=()=>it("pause");var Pt=r(jt,2);Pt.__click=()=>it("home"),e(Wt),e(Lt);var At=r(Lt,2),Et=a(At);Et.__click=()=>it("find"),e(At);var Vt=r(At,2),ft=r(a(Vt),2);Nt(ft,21,()=>Y,Kt,(It,at)=>{var G=Ha();G.__click=()=>kt(t(at).mode);var F=a(G),Bt=a(F,!0);e(F);var Qt=r(F);e(G),h(()=>{G.disabled=t(d),y(G,1,`py-2 px-1 rounded-lg text-xs font-medium transition-colors
                       ${s.status.fanPower===t(at).mode?"bg-purple-500/30 text-purple-400 ring-1 ring-purple-500/50":"bg-zinc-800/60 text-zinc-400 hover:bg-zinc-700/60"}
                       disabled:opacity-50`),l(Bt,t(at).icon),l(Qt,` ${t(at).name??""}`)}),n(It,G)}),e(ft),e(Vt);var xt=r(Vt,2),Ht=r(a(xt),2);Nt(Ht,21,()=>A,Kt,(It,at)=>{var G=Ga();G.__click=()=>pt(t(at).mode);var F=a(G),Bt=a(F,!0);e(F);var Qt=r(F);e(G),h(()=>{G.disabled=t(d),y(G,1,`py-2 px-1 rounded-lg text-xs font-medium transition-colors
                       ${s.status.waterBoxMode===t(at).mode?"bg-cyan-500/30 text-cyan-400 ring-1 ring-cyan-500/50":"bg-zinc-800/60 text-zinc-400 hover:bg-zinc-700/60"}
                       disabled:opacity-50`),l(Bt,t(at).icon),l(Qt,` ${t(at).name??""}`)}),n(It,G)}),e(Ht),e(xt),h(()=>{Gt.disabled=t(d),jt.disabled=t(d),Pt.disabled=t(d),Et.disabled=t(d)}),n(et,vt)},ot=et=>{var vt=Zt(),Lt=Z(vt);{var Wt=jt=>{var Pt=Ua(),At=r(a(Pt),2);{var Et=ft=>{var xt=qa(),Ht=Z(xt);Nt(Ht,21,()=>t(w),Kt,(G,F)=>{var Bt=Ka();Bt.__click=()=>St(t(F).segmentId);var Qt=a(Bt,!0);e(Bt),h(Ft=>{y(Bt,1,`py-3 px-3 rounded-xl text-sm font-medium transition-colors text-left
                         ${Ft??""}`),l(Qt,t(F).name)},[()=>t(O).has(t(F).segmentId)?"bg-cyan-500/30 text-cyan-400 ring-1 ring-cyan-500/50":"bg-zinc-800/60 text-zinc-400 hover:bg-zinc-700/60"]),n(G,Bt)}),e(Ht);var It=r(Ht,2);{var at=G=>{var F=Ya();F.__click=ht;var Bt=a(F);e(F),h(()=>{F.disabled=t(d),l(Bt,`Clean ${t(O).size??""} room${t(O).size>1?"s":""}`)}),n(G,F)};j(It,G=>{t(O).size>0&&G(at)})}n(ft,xt)},Vt=ft=>{var xt=Ja();n(ft,xt)};j(At,ft=>{t(w).length>0?ft(Et):ft(Vt,!1)})}e(Pt),n(jt,Pt)},Gt=jt=>{var Pt=Zt(),At=Z(Pt);{var Et=Vt=>{var ft=Za(),xt=Z(ft),Ht=a(xt),It=r(a(Ht),2),at=a(It);e(It),e(Ht);var G=r(Ht,2);re(G),G.__change=()=>gt(t(I)),e(xt);var F=r(xt,2);{var Bt=Ft=>{var ee=Qa(),ye=r(a(ee),2),le=a(ye),de=a(le),we=r(a(de),2),ve=a(we),Ke=a(ve);e(ve);var ze=r(ve,2);ze.__click=()=>E("main_brush_work_time"),e(we),e(de);var ke=r(de,2),Se=a(ke);e(ke),e(le);var ce=r(le,2),ue=a(ce),Me=r(a(ue),2),me=a(Me),Ye=a(me);e(me);var je=r(me,2);je.__click=()=>E("side_brush_work_time"),e(Me),e(ue);var Ce=r(ue,2),Te=a(Ce);e(Ce),e(ce);var xe=r(ce,2),pe=a(xe),Re=r(a(pe),2),ge=a(Re),qe=a(ge);e(ge);var Be=r(ge,2);Be.__click=()=>E("filter_work_time"),e(Re),e(pe);var Oe=r(pe,2),Pe=a(Oe);e(Oe),e(xe);var Ae=r(xe,2),_e=a(Ae),De=r(a(_e),2),fe=a(De),Je=a(fe);e(fe);var Le=r(fe,2);Le.__click=()=>E("sensor_dirty_time"),e(De),e(_e);var Ve=r(_e,2),Ne=a(Ve);e(Ve),e(Ae),e(ye),e(ee),h((Ue,Qe,Xe,Ze,$e,ta,ea,aa,ra,ia,sa,na)=>{l(Ke,`${Ue??""}h`),ze.disabled=t(d),y(Se,1,`h-full ${Qe??""} transition-all`),ae(Se,`width: ${Xe??""}%`),l(Ye,`${Ze??""}h`),je.disabled=t(d),y(Te,1,`h-full ${$e??""} transition-all`),ae(Te,`width: ${ta??""}%`),l(qe,`${ea??""}h`),Be.disabled=t(d),y(Pe,1,`h-full ${aa??""} transition-all`),ae(Pe,`width: ${ra??""}%`),l(Je,`${ia??""}h`),Le.disabled=t(d),y(Ne,1,`h-full ${sa??""} transition-all`),ae(Ne,`width: ${na??""}%`)},[()=>Math.round(t(k).mainBrushWorkTime/3600),()=>T(st(t(k).mainBrushWorkTime,300)),()=>st(t(k).mainBrushWorkTime,300),()=>Math.round(t(k).sideBrushWorkTime/3600),()=>T(st(t(k).sideBrushWorkTime,200)),()=>st(t(k).sideBrushWorkTime,200),()=>Math.round(t(k).filterWorkTime/3600),()=>T(st(t(k).filterWorkTime,150)),()=>st(t(k).filterWorkTime,150),()=>Math.round(t(k).sensorDirtyTime/3600),()=>T(st(t(k).sensorDirtyTime,30)),()=>st(t(k).sensorDirtyTime,30)]),n(Ft,ee)},Qt=Ft=>{var ee=Xa();n(Ft,ee)};j(F,Ft=>{t(k)?Ft(Bt):Ft(Qt,!1)})}h(()=>l(at,`${t(I)??""}%`)),wa(G,()=>t(I),Ft=>x(I,Ft)),n(Vt,ft)};j(At,Vt=>{t(C)==="settings"&&Vt(Et)},!0)}n(jt,Pt)};j(Lt,jt=>{t(C)==="rooms"?jt(Wt):jt(Gt,!1)},!0)}n(et,vt)};j(Dt,et=>{t(C)==="controls"?et(Mt):et(ot,!1)})}he(2),h(et=>{y(Tt,1,`text-3xl font-bold mt-1 ${s.status.battery>20?"":"text-red-400"}`),l(Rt,`${s.status.battery??""}%`),l(R,et),y(P,1,`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors
                 ${t(C)==="controls"?"bg-zinc-700 text-white":"text-zinc-400 hover:text-white"}`),y(U,1,`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors
                 ${t(C)==="rooms"?"bg-zinc-700 text-white":"text-zinc-400 hover:text-white"}`),y(Ot,1,`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors
                 ${t(C)==="settings"?"bg-zinc-700 text-white":"text-zinc-400 hover:text-white"}`)},[()=>D(s.status.fanPower)]),n(yt,tt)},mt=yt=>{var tt=tr();n(yt,tt)};j($,yt=>{s.status?yt(Ct):yt(mt,!1)})}e(W),h(yt=>{y(H,1,`font-medium ${t(m).color??""}`),l(V,yt)},[()=>s.status?bt(s.status.state):"Offline"]),n(v,W)},$$slots:{default:!0}}),h(()=>{var v,b,W,J;y(o,1,`glass-card rounded-xl transition-card hover:scale-[1.02] ${N()?"p-2.5":"p-3"} w-full text-left cursor-pointer`),_t=y(L,1,`w-9 h-9 rounded-lg flex items-center justify-center shrink-0 ${t(m).bg??""} ${t(m).color??""}`,null,_t,{"status-active":((v=s.status)==null?void 0:v.state)===5||((b=s.status)==null?void 0:b.state)===11||((W=s.status)==null?void 0:W.state)===17||((J=s.status)==null?void 0:J.state)===18})}),n(X,p),Ut()}$t(["click","keydown","change"]);var ir=u('<div class="grid grid-cols-2 gap-3"><div class="bg-zinc-800/40 rounded-xl p-4 text-center"><span class="text-xs text-[var(--muted)]">Temperature</span> <p class="text-2xl font-bold mt-1 text-cyan-400"> </p></div> <div class="bg-zinc-800/40 rounded-xl p-4 text-center"><span class="text-xs text-[var(--muted)]">Humidity</span> <p class="text-2xl font-bold mt-1 text-blue-400"> </p></div></div>'),sr=u('<div class="bg-zinc-800/40 rounded-xl p-4"><div class="flex items-center justify-between"><span class="text-[var(--muted)]">Battery</span> <span> </span></div> <div class="mt-2 h-2 bg-zinc-700 rounded-full overflow-hidden"><div></div></div></div>'),nr=u('<div class="space-y-4"><div><span class="text-4xl"> </span> <p> </p> <p class="text-sm text-[var(--muted)] mt-1"> </p></div> <!> <!> <div class="pt-4 border-t border-[var(--glass-border)] space-y-2 text-sm"><div class="flex justify-between"><span class="text-[var(--muted)]">Type</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span class="text-[var(--muted)]">Online</span> <span> </span></div> <div class="flex justify-between"><span class="text-[var(--muted)]">Device ID</span> <span class="font-mono text-xs"> </span></div></div></div>'),or=u('<div role="button" tabindex="0"><div class="flex items-center gap-2.5"><div> </div> <div class="min-w-0 flex-1"><h4 class="font-medium text-sm truncate"> </h4> <p> </p></div> <div></div></div></div> <!>',1);function lr(X,s){Jt(s,!0);let N=qt(s,"compact",3,!1),d=rt(()=>oe(s.device.name)),i=ct(!1),w=rt(()=>()=>{if(!s.device.last_status)return null;try{return JSON.parse(s.device.last_status)}catch{return null}});const O={sj:{label:"Water",icon:"üíß"},mcs:{label:"Door",icon:"üö™"},wsdcg:{label:"Climate",icon:"üå°Ô∏è"},wfcon:{label:"Gateway",icon:"üì°"},cz:{label:"Remote",icon:"üì∫"}},I=15;function k(M,m){if(!M)return m==="sj"||m==="mcs"?{text:"Monitoring",alert:!1,color:"text-zinc-500",lowBattery:!1}:{text:"No data",alert:!1,color:"text-zinc-500",lowBattery:!1};switch(m){case"sj":{const p=M[1],o=p==="alarm"||p==="1"||p===1,_=M[4],L=_!==void 0&&_<=I;return o?{text:"Water detected!",alert:!0,color:"text-red-400",lowBattery:L,batteryPercent:_}:{text:L?`Dry ¬∑ ${_}%`:"Dry",alert:!1,color:"text-green-400",lowBattery:L,batteryPercent:_}}case"mcs":{const p=M[101]===!0||M[1]===!0,o=M[103]||M[4],_=o!==void 0&&o<=I;return{text:_?`${p?"Open":"Closed"} ¬∑ ${o}%`:p?"Open":"Closed",alert:p,color:p?"text-amber-400":"text-green-400",lowBattery:_,batteryPercent:o}}case"wsdcg":{const p=M[103],o=M[102];return p!==void 0&&o!==void 0?{text:`${(p/100).toFixed(1)}¬∞C ¬∑ ${o}%`,alert:!1,color:"text-cyan-400",lowBattery:!1}:{text:"N/A",alert:!1,color:"text-zinc-500",lowBattery:!1}}default:return{text:s.device.online?"Online":"Offline",alert:!1,color:s.device.online?"text-green-400":"text-zinc-500",lowBattery:!1}}}let C=rt(()=>O[s.device.category]||{label:s.device.category,icon:"üì±"}),S=rt(()=>k(t(w)(),s.device.category));var Y=or(),A=Z(Y);A.__click=()=>x(i,!0),A.__keydown=M=>M.key==="Enter"&&x(i,!0);var bt=a(A),D=a(bt);let ut;var it=a(D,!0);e(D);var kt=r(D,2),pt=a(kt),gt=a(pt,!0);e(pt);var St=r(pt,2),ht=a(St,!0);e(St),e(kt);var st=r(kt,2);let T;e(bt),e(A);var E=r(A,2);te(E,{get open(){return t(i)},onclose:()=>x(i,!1),get title(){return t(d)},children:(M,m)=>{var p=nr(),o=a(p),_=a(o),L=a(_,!0);e(_);var _t=r(_,2),lt=a(_t,!0);e(_t);var f=r(_t,2),z=a(f);e(f),e(o);var K=r(o,2);{var q=tt=>{const dt=rt(()=>t(w)());var wt=Zt(),Tt=Z(wt);{var Rt=zt=>{var nt=ir(),R=a(nt),B=r(a(R),2),P=a(B);e(B),e(R);var U=r(R,2),Ot=r(a(U),2),Dt=a(Ot);e(Ot),e(U),e(nt),h(Mt=>{l(P,`${Mt??""}¬∞C`),l(Dt,`${t(dt)[102]??""}%`)},[()=>(t(dt)[103]/100).toFixed(1)]),n(zt,nt)};j(Tt,zt=>{t(dt)&&zt(Rt)})}n(tt,wt)};j(K,tt=>{s.device.category==="wsdcg"&&tt(q)})}var c=r(K,2);{var g=tt=>{const dt=rt(()=>t(w)());var wt=Zt(),Tt=Z(wt);{var Rt=zt=>{const nt=rt(()=>t(dt)[4]||t(dt)[103]);var R=Zt(),B=Z(R);{var P=U=>{var Ot=sr(),Dt=a(Ot),Mt=r(a(Dt),2),ot=a(Mt);e(Mt),e(Dt);var et=r(Dt,2),vt=a(et);e(et),e(Ot),h(()=>{y(Mt,1,`font-bold ${t(nt)>20?"text-green-400":"text-red-400"}`),l(ot,`${t(nt)??""}%`),y(vt,1,`h-full rounded-full transition-all ${t(nt)>20?"bg-green-500":"bg-red-500"}`),ae(vt,`width: ${t(nt)??""}%`)}),n(U,Ot)};j(B,U=>{t(nt)!==void 0&&U(P)})}n(zt,R)};j(Tt,zt=>{t(dt)&&zt(Rt)})}n(tt,wt)};j(c,tt=>{(s.device.category==="sj"||s.device.category==="mcs")&&tt(g)})}var v=r(c,2),b=a(v),W=r(a(b),2),J=a(W,!0);e(W),e(b);var H=r(b,2),V=r(a(H),2),$=a(V,!0);e(V),e(H);var Ct=r(H,2),mt=r(a(Ct),2),yt=a(mt);e(mt),e(Ct),e(v),e(p),h(tt=>{y(o,1,`rounded-xl p-6 text-center ${t(S).alert?"bg-red-500/20":"bg-zinc-800/40"}`),l(L,t(C).icon),y(_t,1,`text-2xl font-bold mt-2 ${t(S).color??""}`),l(lt,t(S).text),l(z,`${t(C).label??""} Sensor`),l(J,t(C).label),y(V,1,s.device.online?"text-green-400":"text-red-400"),l($,s.device.online?"Yes":"No"),l(yt,`${tt??""}...`)},[()=>s.device.id.slice(0,12)]),n(M,p)},$$slots:{default:!0}}),h(()=>{y(A,1,`glass-card rounded-xl transition-card hover:scale-[1.02] ${N()?"p-2.5":"p-3"} w-full text-left cursor-pointer
         ${t(S).lowBattery?"border-amber-500/50 bg-amber-500/10":""}`),ut=y(D,1,`w-9 h-9 rounded-lg flex items-center justify-center text-base shrink-0
             ${t(S).alert?"bg-red-500/20":t(S).lowBattery?"bg-amber-500/20":"bg-zinc-800/60"}`,null,ut,{"status-active":t(S).alert}),l(it,t(C).icon),l(gt,t(d)),y(St,1,`text-xs ${(t(S).lowBattery?"text-amber-400":t(S).color)??""}`),l(ht,t(S).text),T=y(st,1,`w-2 h-2 rounded-full shrink-0
             ${s.device.online?"bg-green-500":"bg-zinc-600"}`,null,T,{"status-dot":s.device.online})}),n(X,Y),Ut()}$t(["click","keydown"]);var dr=ie('<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd"></path></svg>'),vr=ie('<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M5.05 3.636a1 1 0 010 1.414 7 7 0 000 9.9 1 1 0 11-1.414 1.414 9 9 0 010-12.728 1 1 0 011.414 0zm9.9 0a1 1 0 011.414 0 9 9 0 010 12.728 1 1 0 11-1.414-1.414 7 7 0 000-9.9 1 1 0 010-1.414zM7.879 6.464a1 1 0 010 1.414 3 3 0 000 4.243 1 1 0 11-1.415 1.414 5 5 0 010-7.07 1 1 0 011.415 0zm4.242 0a1 1 0 011.415 0 5 5 0 010 7.072 1 1 0 01-1.415-1.415 3 3 0 000-4.242 1 1 0 010-1.415zM10 9a1 1 0 011 1v.01a1 1 0 11-2 0V10a1 1 0 011-1z"></path></svg>'),cr=u('<p class="text-xs text-[var(--muted)]"> </p>'),ur=u('<p class="text-xs text-[var(--muted)]">No data</p>'),mr=u("<button> </button>"),xr=u(`<div class="grid grid-cols-2 gap-3"><div class="bg-zinc-800/40 rounded-xl p-4 text-center"><span class="text-xs text-[var(--muted)] uppercase tracking-wide">Current</span> <p class="text-3xl font-bold mt-1"> </p></div> <div class="bg-zinc-800/40 rounded-xl p-4 text-center"><span class="text-xs text-[var(--muted)] uppercase tracking-wide">Target</span> <p class="text-3xl font-bold mt-1 text-orange-400"> </p></div></div> <div><p class="text-sm text-[var(--muted)] mb-3">Set Temperature</p> <div class="flex items-center justify-center gap-4"><button class="w-14 h-14 rounded-full bg-blue-500/20 text-blue-400 text-2xl font-medium
                   hover:bg-blue-500/30 disabled:opacity-50 transition-all">‚àí</button> <span class="text-3xl font-bold w-24 text-center"> </span> <button class="w-14 h-14 rounded-full bg-orange-500/20 text-orange-400 text-2xl font-medium
                   hover:bg-orange-500/30 disabled:opacity-50 transition-all">+</button></div></div> <div><p class="text-sm text-[var(--muted)] mb-2">Quick Set</p> <div class="grid grid-cols-4 gap-2"></div></div>`,1),pr=u('<div class="text-center py-8 text-[var(--muted)]">No data available</div>'),gr=u('<div class="space-y-4"><div class="flex items-center justify-between"><span class="text-[var(--muted)]">Valve</span> <span> </span></div> <!> <div class="pt-4 border-t border-[var(--glass-border)] space-y-2 text-sm"><div class="flex justify-between"><span class="text-[var(--muted)]">Device ID</span> <span class="font-mono text-xs"> </span></div> <div class="flex justify-between"><span class="text-[var(--muted)]">Online</span> <span> </span></div></div></div>'),_r=u('<div role="button" tabindex="0"><div class="flex items-center gap-2.5"><div><!></div> <div class="min-w-0 flex-1"><h4 class="font-medium text-sm truncate"> </h4> <!></div></div></div> <!>',1);function fr(X,s){Jt(s,!0);let N=qt(s,"device",7),d=qt(s,"compact",3,!1),i=rt(()=>oe(N().name)),w=ct(!1),O=ct(!1),I=rt(()=>()=>{if(!N().last_status)return null;try{return JSON.parse(N().last_status)}catch{return null}}),k=rt(()=>{var o;return(o=t(I)())!=null&&o["5"]?t(I)()[5]/10:null}),C=rt(()=>{var o;return(o=t(I)())!=null&&o["4"]?t(I)()[4]/10:null}),S=rt(()=>{var o;return((o=t(I)())==null?void 0:o["3"])||"unknown"});async function Y(o){x(w,!0);try{await fetch(`http://localhost:3001/api/devices/${N().id}/control`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dps:4,value:Math.round(o*10)})});const _=await fetch(`http://localhost:3001/api/devices/${N().id}/status`);if(_.ok){const L=await _.json();N().last_status=JSON.stringify(L.status)}}catch(_){console.error(_)}x(w,!1)}function A(o){if(t(C)!==null){const _=Math.max(5,Math.min(30,t(C)+o));Y(_)}}var bt=_r(),D=Z(bt);D.__click=()=>x(O,!0),D.__keydown=o=>o.key==="Enter"&&x(O,!0);var ut=a(D),it=a(ut);let kt;var pt=a(it);{var gt=o=>{var _=dr();n(o,_)},St=o=>{var _=vr();n(o,_)};j(pt,o=>{t(S)==="opened"?o(gt):o(St,!1)})}e(it);var ht=r(it,2),st=a(ht),T=a(st,!0);e(st);var E=r(st,2);{var M=o=>{var _=cr(),L=a(_);e(_),h(()=>l(L,`${t(k)??""}¬∞C ${t(S)==="opened"?"‚Üí":"¬∑"} ${t(C)??""}¬∞C`)),n(o,_)},m=o=>{var _=ur();n(o,_)};j(E,o=>{t(k)!==null?o(M):o(m,!1)})}e(ht),e(ut),e(D);var p=r(D,2);te(p,{get open(){return t(O)},onclose:()=>x(O,!1),get title(){return t(i)},children:(o,_)=>{var L=gr(),_t=a(L),lt=r(a(_t),2),f=a(lt,!0);e(lt),e(_t);var z=r(_t,2);{var K=V=>{var $=xr(),Ct=Z($),mt=a(Ct),yt=r(a(mt),2),tt=a(yt);e(yt),e(mt);var dt=r(mt,2),wt=r(a(dt),2),Tt=a(wt);e(wt),e(dt),e(Ct);var Rt=r(Ct,2),zt=r(a(Rt),2),nt=a(zt);nt.__click=()=>A(-.5);var R=r(nt,2),B=a(R);e(R);var P=r(R,2);P.__click=()=>A(.5),e(zt),e(Rt);var U=r(Rt,2),Ot=r(a(U),2);Nt(Ot,20,()=>[15,18,21,24],Kt,(Dt,Mt)=>{var ot=mr();ot.__click=()=>Y(Mt);var et=a(ot);e(ot),h(()=>{ot.disabled=t(w),y(ot,1,`py-2 text-sm rounded-lg transition-colors
                     ${t(C)===Mt?"bg-orange-500/20 text-orange-400":"bg-zinc-800/60 text-zinc-400 hover:bg-zinc-700/60"}`),l(et,`${Mt??""}¬∞`)}),n(Dt,ot)}),e(Ot),e(U),h(()=>{l(tt,`${t(k)??""}¬∞C`),l(Tt,`${t(C)??""}¬∞C`),nt.disabled=t(w)||t(C)<=5,l(B,`${t(C)??""}¬∞C`),P.disabled=t(w)||t(C)>=30}),n(V,$)},q=V=>{var $=pr();n(V,$)};j(z,V=>{t(k)!==null&&t(C)!==null?V(K):V(q,!1)})}var c=r(z,2),g=a(c),v=r(a(g),2),b=a(v);e(v),e(g);var W=r(g,2),J=r(a(W),2),H=a(J,!0);e(J),e(W),e(c),e(L),h(V=>{y(lt,1,`font-medium ${t(S)==="opened"?"text-orange-400":"text-blue-400"}`),l(f,t(S)==="opened"?"Heating":"Idle"),l(b,`${V??""}...`),y(J,1,N().online?"text-green-400":"text-red-400"),l(H,N().online?"Yes":"No")},[()=>N().id.slice(0,12)]),n(o,L)},$$slots:{default:!0}}),h(()=>{y(D,1,`glass-card rounded-xl transition-card hover:scale-[1.02] ${d()?"p-2.5":"p-3"} w-full text-left cursor-pointer`),kt=y(it,1,`w-9 h-9 rounded-lg flex items-center justify-center shrink-0
             ${t(S)==="opened"?"bg-orange-500/20 text-orange-400":"bg-blue-500/20 text-blue-400"}`,null,kt,{"status-active":t(S)==="opened"}),l(T,t(i))}),n(X,bt),Ut()}$t(["click","keydown"]);var br=u('<div class="w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"></div>'),hr=ie('<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z" clip-rule="evenodd"></path></svg>'),yr=u('<p class="text-xs text-[var(--muted)]"> </p>'),wr=u('<p class="text-xs text-[var(--muted)]"> </p>'),zr=u("<button> </button>"),kr=u("<button> </button>"),Sr=u('<div><div class="flex justify-between text-sm text-[var(--muted)] mb-2"><span>Volume</span> <span class="font-medium text-white"> </span></div> <div class="flex gap-2 items-center"><input type="range" min="0" max="100" class="flex-1"/> <button> </button></div></div> <div><p class="text-sm text-[var(--muted)] mb-2">Input</p> <div class="grid grid-cols-2 gap-2"></div></div> <div><p class="text-sm text-[var(--muted)] mb-2">Sound Program</p> <div class="grid grid-cols-3 gap-2"></div></div> <div><p class="text-sm text-[var(--muted)] mb-2">Audio</p> <div class="grid grid-cols-2 gap-2"><button>Clear Voice</button> <button>Bass Ext.</button></div></div> <div><div class="flex justify-between text-sm text-[var(--muted)] mb-2"><span>Subwoofer</span> <span class="font-medium text-white"> </span></div> <input type="range" min="-6" max="6" step="1" class="w-full"/></div>',1),Mr=u('<button> </button> <!> <div class="pt-4 border-t border-[var(--glass-border)] space-y-2 text-sm"><div class="flex justify-between"><span class="text-[var(--muted)]">Model</span> <span class="font-mono text-xs"> </span></div></div>',1),jr=u('<div class="space-y-4"><div class="flex items-center justify-between"><span class="text-[var(--muted)]">Status</span> <span> </span></div> <!></div>'),Cr=u('<div role="button" tabindex="0"><div class="flex items-center gap-2.5"><button><!></button> <div class="min-w-0 flex-1"><h4 class="font-medium text-sm truncate"> </h4> <!></div></div></div> <!>',1);function Tr(X,s){Jt(s,!0);let N=qt(s,"compact",3,!1),d=rt(()=>oe(s.device.name)),i=ct(null),w=ct(!1),O=ct(!1),I=ct(!1),k=ct(null),C=ct(null),S=rt(()=>{var c;return t(k)??((c=t(i))==null?void 0:c.volume)??0}),Y=rt(()=>{var c;return t(C)??((c=t(i))==null?void 0:c.subwoofer_volume)??0});se(()=>{if(!t(O)&&s.device.last_status)try{x(i,JSON.parse(s.device.last_status),!0)}catch{}}),se(()=>{t(O)||(x(O,!0),Ge(s.device.id).then(c=>x(i,c.status,!0)).catch(()=>{}))});async function A(){var c;x(w,!0);try{await Yt(s.device.id,{power:((c=t(i))==null?void 0:c.power)!=="on"});const g=await Ge(s.device.id);x(i,g.status,!0)}catch(g){console.error(g)}x(w,!1)}async function bt(c){x(k,null);try{await Yt(s.device.id,{volume:c}),t(i)&&x(i,{...t(i),volume:c},!0)}catch(g){console.error(g)}}async function D(){var c;try{await Yt(s.device.id,{mute:!((c=t(i))!=null&&c.mute)}),t(i)&&x(i,{...t(i),mute:!t(i).mute},!0)}catch(g){console.error(g)}}async function ut(c){try{await Yt(s.device.id,{input:c}),t(i)&&x(i,{...t(i),input:c},!0)}catch(g){console.error(g)}}async function it(c){try{await Yt(s.device.id,{sound_program:c}),t(i)&&x(i,{...t(i),sound_program:c},!0)}catch(g){console.error(g)}}async function kt(){var c;try{const g=!((c=t(i))!=null&&c.clear_voice);await Yt(s.device.id,{clear_voice:g}),t(i)&&x(i,{...t(i),clear_voice:g},!0)}catch(g){console.error(g)}}async function pt(){var c;try{const g=!((c=t(i))!=null&&c.bass_extension);await Yt(s.device.id,{bass_extension:g}),t(i)&&x(i,{...t(i),bass_extension:g},!0)}catch(g){console.error(g)}}async function gt(c){x(C,null);try{await Yt(s.device.id,{subwoofer_volume:c}),t(i)&&x(i,{...t(i),subwoofer_volume:c},!0)}catch(g){console.error(g)}}const St=["tv","bluetooth"],ht=[{id:"movie",label:"Movie"},{id:"music",label:"Music"},{id:"sports",label:"Sports"},{id:"game",label:"Game"},{id:"tv_program",label:"TV"},{id:"stereo",label:"Stereo"}];var st=Cr(),T=Z(st);T.__click=()=>x(I,!0),T.__keydown=c=>c.key==="Enter"&&x(I,!0);var E=a(T),M=a(E);M.__click=c=>{c.stopPropagation(),A()};let m;var p=a(M);{var o=c=>{var g=br();n(c,g)},_=c=>{var g=hr();n(c,g)};j(p,c=>{t(w)?c(o):c(_,!1)})}e(M);var L=r(M,2),_t=a(L),lt=a(_t,!0);e(_t);var f=r(_t,2);{var z=c=>{var g=yr(),v=a(g);e(g),h(()=>l(v,`${t(i).mute?"Muted":`${t(i).volume}%`} ¬∑ ${t(i).input??""}`)),n(c,g)},K=c=>{var g=wr(),v=a(g,!0);e(g),h(()=>l(v,t(i)?"Standby":"Offline")),n(c,g)};j(f,c=>{var g;((g=t(i))==null?void 0:g.power)==="on"?c(z):c(K,!1)})}e(L),e(E),e(T);var q=r(T,2);te(q,{get open(){return t(I)},onclose:()=>x(I,!1),get title(){return t(d)},children:(c,g)=>{var v=jr(),b=a(v),W=r(a(b),2),J=a(W,!0);e(W),e(b);var H=r(b,2);{var V=$=>{var Ct=Mr(),mt=Z(Ct);mt.__click=A;var yt=a(mt,!0);e(mt);var tt=r(mt,2);{var dt=nt=>{var R=Sr(),B=Z(R),P=a(B),U=r(a(P),2),Ot=a(U,!0);e(U),e(P);var Dt=r(P,2),Mt=a(Dt);re(Mt),Mt.__input=at=>x(k,parseInt(at.currentTarget.value),!0),Mt.__change=at=>bt(parseInt(at.currentTarget.value));var ot=r(Mt,2);ot.__click=D;var et=a(ot,!0);e(ot),e(Dt),e(B);var vt=r(B,2),Lt=r(a(vt),2);Nt(Lt,21,()=>St,Kt,(at,G)=>{var F=zr();F.__click=()=>ut(t(G));var Bt=a(F,!0);e(F),h(()=>{y(F,1,`py-3 text-sm rounded-lg transition-colors uppercase
                       ${t(i).input===t(G)?"bg-purple-500/20 text-purple-400":"bg-zinc-800/60 text-zinc-400 hover:bg-zinc-700/60"}`),l(Bt,t(G)==="bluetooth"?"BT":"TV")}),n(at,F)}),e(Lt),e(vt);var Wt=r(vt,2),Gt=r(a(Wt),2);Nt(Gt,21,()=>ht,Kt,(at,G)=>{var F=kr();F.__click=()=>it(t(G).id);var Bt=a(F,!0);e(F),h(()=>{y(F,1,`py-2.5 text-sm rounded-lg transition-colors
                       ${t(i).sound_program===t(G).id?"bg-purple-500/20 text-purple-400":"bg-zinc-800/60 text-zinc-400 hover:bg-zinc-700/60"}`),l(Bt,t(G).label)}),n(at,F)}),e(Gt),e(Wt);var jt=r(Wt,2),Pt=r(a(jt),2),At=a(Pt);At.__click=kt;var Et=r(At,2);Et.__click=pt,e(Pt),e(jt);var Vt=r(jt,2),ft=a(Vt),xt=r(a(ft),2),Ht=a(xt);e(xt),e(ft);var It=r(ft,2);re(It),It.__input=at=>x(C,parseInt(at.currentTarget.value),!0),It.__change=at=>gt(parseInt(at.currentTarget.value)),e(Vt),h(()=>{l(Ot,t(i).mute?"Muted":`${t(S)}%`),ne(Mt,t(S)),y(ot,1,`w-10 h-10 rounded-lg transition-colors text-lg
                     ${t(i).mute?"bg-red-500/20 text-red-400":"bg-zinc-800/60 text-zinc-400"}
                     hover:bg-zinc-700/60`),l(et,t(i).mute?"üîá":"üîä"),y(At,1,`py-3 text-sm rounded-lg transition-colors
                     ${t(i).clear_voice?"bg-purple-500/20 text-purple-400":"bg-zinc-800/60 text-zinc-400 hover:bg-zinc-700/60"}`),y(Et,1,`py-3 text-sm rounded-lg transition-colors
                     ${t(i).bass_extension?"bg-purple-500/20 text-purple-400":"bg-zinc-800/60 text-zinc-400 hover:bg-zinc-700/60"}`),l(Ht,`${t(Y)>0?"+":""}${t(Y)??""}`),ne(It,t(Y))}),n(nt,R)};j(tt,nt=>{t(i).power==="on"&&nt(dt)})}var wt=r(tt,2),Tt=a(wt),Rt=r(a(Tt),2),zt=a(Rt,!0);e(Rt),e(Tt),e(wt),h(()=>{mt.disabled=t(w),y(mt,1,`w-full py-4 rounded-xl text-lg font-medium transition-all
               ${t(i).power==="on"?"bg-purple-500/20 text-purple-400":"bg-zinc-800 text-zinc-400"}
               hover:scale-[1.02] disabled:opacity-50`),l(yt,t(i).power==="on"?"Turn Off":"Turn On"),l(zt,s.device.model||"Yamaha Soundbar")}),n($,Ct)};j(H,$=>{t(i)&&$(V)})}e(v),h(()=>{var $,Ct;y(W,1,`font-medium ${(($=t(i))==null?void 0:$.power)==="on"?"text-purple-400":"text-zinc-500"}`),l(J,((Ct=t(i))==null?void 0:Ct.power)==="on"?"On":t(i)?"Standby":"Offline")}),n(c,v)},$$slots:{default:!0}}),h(()=>{var c,g;y(T,1,`glass-card rounded-xl transition-card hover:scale-[1.02] ${N()?"p-2.5":"p-3"} w-full text-left cursor-pointer`),M.disabled=t(w)||!t(i),m=y(M,1,`w-9 h-9 rounded-lg flex items-center justify-center transition-all shrink-0
             ${((c=t(i))==null?void 0:c.power)==="on"?"bg-purple-500/20 text-purple-400":"bg-zinc-800/60 text-zinc-500"}
             hover:scale-105 disabled:opacity-50 disabled:hover:scale-100`,null,m,{"status-active":((g=t(i))==null?void 0:g.power)==="on"}),l(lt,t(d))}),n(X,st),Ut()}$t(["click","keydown","input","change"]);var Rr=u('<div class="w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"></div>'),Br=ie('<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.414 1.415l.708-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z" clip-rule="evenodd"></path></svg>'),Or=u('<p class="text-xs text-[var(--muted)]"> </p>'),Pr=u('<p class="text-xs text-[var(--muted)]"> </p>'),Ar=u("<div> </div>"),Dr=u("<button> </button>"),Lr=u('<div class="bg-zinc-800/40 rounded-xl p-3 text-center"><span class="text-xs text-[var(--muted)]">Humidity</span> <p class="text-lg font-bold mt-1"> </p></div>'),Vr=u('<div class="bg-zinc-800/40 rounded-xl p-3 text-center"><span class="text-xs text-[var(--muted)]">Temp</span> <p class="text-lg font-bold mt-1"> </p></div>'),Nr=u('<div class="bg-zinc-800/40 rounded-xl p-3 text-center"><span class="text-xs text-[var(--muted)]">Filter</span> <p> </p></div>'),Wr=u('<div><span class="text-xs uppercase tracking-wide opacity-80">Air Quality Index</span> <p class="text-4xl font-bold mt-1"> </p> <p class="text-sm mt-1"> </p></div> <div><p class="text-sm text-[var(--muted)] mb-2">Mode</p> <div class="grid grid-cols-3 gap-2"></div></div> <div class="grid grid-cols-3 gap-3"><!> <!> <!></div>',1),Ir=u('<button> </button> <!> <div class="pt-4 border-t border-[var(--glass-border)] space-y-2 text-sm"><div class="flex justify-between"><span class="text-[var(--muted)]">Model</span> <span class="font-mono text-xs">Xiaomi Air Purifier</span></div></div>',1),Er=u('<div class="space-y-4"><div class="flex items-center justify-between"><span class="text-[var(--muted)]">Status</span> <span> </span></div> <!></div>'),Hr=u('<div role="button" tabindex="0"><div class="flex items-center gap-2.5"><button><!></button> <div class="min-w-0 flex-1"><h4 class="font-medium text-sm truncate">Air Purifier</h4> <!></div> <!></div></div> <!>',1);function Gr(X,s){Jt(s,!0);let N=qt(s,"compact",3,!1),d=rt(()=>Q.airPurifier),i=ct(!1),w=ct(!1);async function O(){var m;x(i,!0);try{await Fe({power:!((m=t(d))!=null&&m.power)}),await Q.refreshAirPurifier()}catch(p){console.error(p)}x(i,!1)}async function I(m){try{await Fe({mode:m}),await Q.refreshAirPurifier()}catch(p){console.error(p)}}function k(m){return m<=50?"text-green-400 bg-green-500/20":m<=100?"text-yellow-400 bg-yellow-500/20":m<=150?"text-orange-400 bg-orange-500/20":"text-red-400 bg-red-500/20"}function C(m){return m<=50?"Good":m<=100?"Moderate":m<=150?"Unhealthy":"Very Unhealthy"}const S={auto:"Auto",silent:"Night",favorite:"Manual"};var Y=Hr(),A=Z(Y);A.__click=()=>x(w,!0),A.__keydown=m=>m.key==="Enter"&&x(w,!0);var bt=a(A),D=a(bt);D.__click=m=>{m.stopPropagation(),O()};let ut;var it=a(D);{var kt=m=>{var p=Rr();n(m,p)},pt=m=>{var p=Br();n(m,p)};j(it,m=>{t(i)?m(kt):m(pt,!1)})}e(D);var gt=r(D,2),St=r(a(gt),2);{var ht=m=>{var p=Or(),o=a(p);e(p),h(()=>l(o,`${(S[t(d).mode]||t(d).mode)??""} ¬∑ ${t(d).aqi??""} AQI`)),n(m,p)},st=m=>{var p=Pr(),o=a(p,!0);e(p),h(()=>l(o,t(d)?"Off":"Offline")),n(m,p)};j(St,m=>{var p;(p=t(d))!=null&&p.power?m(ht):m(st,!1)})}e(gt);var T=r(gt,2);{var E=m=>{var p=Ar(),o=a(p,!0);e(p),h(_=>{y(p,1,`px-2 py-1 rounded-md text-xs font-medium shrink-0 ${_??""}`),l(o,t(d).aqi)},[()=>k(t(d).aqi)]),n(m,p)};j(T,m=>{var p;N()&&((p=t(d))!=null&&p.power)&&m(E)})}e(bt),e(A);var M=r(A,2);te(M,{get open(){return t(w)},onclose:()=>x(w,!1),title:"Air Purifier",children:(m,p)=>{var o=Er(),_=a(o),L=r(a(_),2),_t=a(L,!0);e(L),e(_);var lt=r(_,2);{var f=z=>{var K=Ir(),q=Z(K);q.__click=O;var c=a(q,!0);e(q);var g=r(q,2);{var v=b=>{var W=Wr(),J=Z(W),H=r(a(J),2),V=a(H,!0);e(H);var $=r(H,2),Ct=a($,!0);e($),e(J);var mt=r(J,2),yt=r(a(mt),2);Nt(yt,20,()=>[{value:"auto",label:"Auto"},{value:"silent",label:"Night"},{value:"favorite",label:"Manual"}],Kt,(R,B)=>{var P=Dr();P.__click=()=>I(B.value);var U=a(P,!0);e(P),h(()=>{y(P,1,`py-3 text-sm rounded-lg transition-colors
                       ${t(d).mode===B.value?"bg-cyan-500/20 text-cyan-400":"bg-zinc-800/60 text-zinc-400 hover:bg-zinc-700/60"}`),l(U,B.label)}),n(R,P)}),e(yt),e(mt);var tt=r(mt,2),dt=a(tt);{var wt=R=>{var B=Lr(),P=r(a(B),2),U=a(P);e(P),e(B),h(()=>l(U,`${t(d).humidity??""}%`)),n(R,B)};j(dt,R=>{t(d).humidity!==void 0&&R(wt)})}var Tt=r(dt,2);{var Rt=R=>{var B=Vr(),P=r(a(B),2),U=a(P);e(P),e(B),h(()=>l(U,`${t(d).temperature??""}¬∞C`)),n(R,B)};j(Tt,R=>{t(d).temperature!==void 0&&R(Rt)})}var zt=r(Tt,2);{var nt=R=>{var B=Nr(),P=r(a(B),2),U=a(P);e(P),e(B),h(()=>{y(P,1,`text-lg font-bold mt-1 ${t(d).filter_life<20?"text-red-400":""}`),l(U,`${t(d).filter_life??""}%`)}),n(R,B)};j(zt,R=>{t(d).filter_life!==void 0&&R(nt)})}e(tt),h((R,B)=>{y(J,1,`rounded-xl p-4 text-center ${R??""}`),l(V,t(d).aqi),l(Ct,B)},[()=>k(t(d).aqi),()=>C(t(d).aqi)]),n(b,W)};j(g,b=>{t(d).power&&b(v)})}he(2),h(()=>{q.disabled=t(i),y(q,1,`w-full py-4 rounded-xl text-lg font-medium transition-all
               ${t(d).power?"bg-cyan-500/20 text-cyan-400":"bg-zinc-800 text-zinc-400"}
               hover:scale-[1.02] disabled:opacity-50`),l(c,t(d).power?"Turn Off":"Turn On")}),n(z,K)};j(lt,z=>{t(d)&&z(f)})}e(o),h(()=>{var z,K;y(L,1,`font-medium ${(z=t(d))!=null&&z.power?"text-cyan-400":"text-zinc-500"}`),l(_t,(K=t(d))!=null&&K.power?"On":t(d)?"Off":"Offline")}),n(m,o)},$$slots:{default:!0}}),h(()=>{var m,p;y(A,1,`glass-card rounded-xl transition-card hover:scale-[1.02] ${N()?"p-2.5":"p-3"} w-full text-left cursor-pointer`),D.disabled=t(i)||!t(d),ut=y(D,1,`w-9 h-9 rounded-lg flex items-center justify-center transition-all shrink-0
             ${(m=t(d))!=null&&m.power?"bg-cyan-500/20 text-cyan-400":"bg-zinc-800/60 text-zinc-500"}
             hover:scale-105 disabled:opacity-50 disabled:hover:scale-100`,null,ut,{"status-active":(p=t(d))==null?void 0:p.power})}),n(X,Y),Ut()}$t(["click","keydown"]);var Fr=u('<div class="glass-card rounded-xl p-2.5"><div class="flex items-center gap-2.5"><div class="w-9 h-9 rounded-lg bg-zinc-800 animate-pulse"></div> <div class="flex-1 space-y-1.5"><div class="w-20 h-3.5 rounded bg-zinc-800 animate-pulse"></div> <div class="w-14 h-3 rounded bg-zinc-800 animate-pulse"></div></div></div></div>'),Kr=u('<section><div class="w-20 h-5 rounded bg-zinc-800 animate-pulse mb-3"></div> <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2"></div></section>'),Yr=u('<div class="space-y-6"></div>'),qr=u('<section><h2 class="text-sm font-medium text-zinc-400 mb-3 flex items-center gap-2"><span class="text-amber-400">üí°</span> Lights <span class="text-xs text-zinc-600"> </span></h2> <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2"></div></section>'),Jr=u('<section><h2 class="text-sm font-medium text-zinc-400 mb-3 flex items-center gap-2"><span class="text-orange-400">üå°Ô∏è</span> Climate <span class="text-xs text-zinc-600"> </span></h2> <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2"><!> <!></div></section>'),Ur=u('<section><h2 class="text-sm font-medium text-zinc-400 mb-3 flex items-center gap-2"><span class="text-cyan-400">üì°</span> Sensors <span class="text-xs text-zinc-600"> </span></h2> <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2"></div></section>'),Qr=u('<section><h2 class="text-sm font-medium text-zinc-400 mb-3 flex items-center gap-2"><span class="text-purple-400">üîä</span> Audio <span class="text-xs text-zinc-600"> </span></h2> <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2"></div></section>'),Xr=u('<!> <!> <!> <!> <section><h2 class="text-sm font-medium text-zinc-400 mb-3 flex items-center gap-2"><span class="text-green-400">ü§ñ</span> Robot <span class="text-xs text-zinc-600">(1)</span></h2> <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2"><!></div></section>',1),Zr=u('<div class="pb-24 space-y-6"><!></div>');function di(X,s){Jt(s,!0);let N=rt(()=>Q.lamps.filter(S=>S.category==="lamp")),d=rt(()=>Q.tuyaDevices.filter(S=>S.category==="wkf")),i=rt(()=>Q.tuyaDevices.filter(S=>["sj","mcs","wsdcg"].includes(S.category))),w=rt(()=>Q.lamps.length>0||Q.tuyaDevices.length>0||Q.yamahaDevices.length>0);var O=Zr();ba("1uha8ag",S=>{da(()=>{va.title="Smart Home"})});var I=a(O);{var k=S=>{var Y=Yr();Nt(Y,20,()=>Array(3),Kt,(A,bt)=>{var D=Kr(),ut=r(a(D),2);Nt(ut,20,()=>Array(4),Kt,(it,kt,pt,gt)=>{var St=Fr();n(it,St)}),e(ut),e(D),n(A,D)}),e(Y),n(S,Y)},C=S=>{var Y=Xr(),A=Z(Y);{var bt=T=>{var E=qr(),M=a(E),m=r(a(M),2),p=a(m);e(m),e(M);var o=r(M,2);Nt(o,21,()=>t(N),_=>_.id,(_,L)=>{Na(_,{get lamp(){return t(L)},compact:!0})}),e(o),e(E),h(()=>l(p,`(${t(N).length??""})`)),n(T,E)};j(A,T=>{t(N).length>0&&T(bt)})}var D=r(A,2);{var ut=T=>{var E=Jr(),M=a(E),m=r(a(M),2),p=a(m);e(m),e(M);var o=r(M,2),_=a(o);Nt(_,17,()=>t(d),lt=>lt.id,(lt,f)=>{fr(lt,{get device(){return t(f)},compact:!0})});var L=r(_,2);{var _t=lt=>{Gr(lt,{compact:!0})};j(L,lt=>{Q.airPurifier&&lt(_t)})}e(o),e(E),h(()=>l(p,`(${t(d).length+(Q.airPurifier?1:0)})`)),n(T,E)};j(D,T=>{(t(d).length>0||Q.airPurifier)&&T(ut)})}var it=r(D,2);{var kt=T=>{var E=Ur(),M=a(E),m=r(a(M),2),p=a(m);e(m),e(M);var o=r(M,2);Nt(o,21,()=>t(i),_=>_.id,(_,L)=>{lr(_,{get device(){return t(L)},compact:!0})}),e(o),e(E),h(()=>l(p,`(${t(i).length??""})`)),n(T,E)};j(it,T=>{t(i).length>0&&T(kt)})}var pt=r(it,2);{var gt=T=>{var E=Qr(),M=a(E),m=r(a(M),2),p=a(m);e(m),e(M);var o=r(M,2);Nt(o,21,()=>Q.yamahaDevices,_=>_.id,(_,L)=>{Tr(_,{get device(){return t(L)},compact:!0})}),e(o),e(E),h(()=>l(p,`(${Q.yamahaDevices.length??""})`)),n(T,E)};j(pt,T=>{Q.yamahaDevices.length>0&&T(gt)})}var St=r(pt,2),ht=r(a(St),2),st=a(ht);rr(st,{get status(){return Q.roborock},compact:!0}),e(ht),e(St),n(S,Y)};j(I,S=>{Q.loading&&!t(w)?S(k):S(C,!1)})}e(O),n(X,O),Ut()}export{di as component};
