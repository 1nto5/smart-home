import{d as R,f as b,s as g,a as h}from"../chunks/Dlj6haWL.js";import{a0 as F,a1 as s,a2 as a,a3 as d,g as n,a4 as w,a5 as D,a6 as C,s as v,R as S,a7 as T,K as q,a8 as z,a9 as G,aa as I}from"../chunks/D2JNcFbJ.js";import{a as J,s as M,e as N,g as Q}from"../chunks/mhC6JEJ7.js";import{h as U}from"../chunks/CiNAWmNp.js";import{i as k}from"../chunks/KdfE8kWJ.js";import{b as V}from"../chunks/BWKFy5ZE.js";var W=b('<span class="absolute top-1 right-1 w-2 h-2 bg-white rounded-full animate-pulse"></span>'),X=b('<p class="text-xs mt-2 text-[var(--muted)]"> </p>'),Y=b('<div class="bg-[var(--card)] border border-[var(--border)] rounded-lg p-4"><div class="flex items-center gap-3 mb-3"><span class="text-2xl"> </span> <div><h3 class="font-medium"> </h3> <p class="text-xs text-[var(--muted)]"> </p></div></div> <button class="w-full py-2 rounded bg-[var(--accent)] hover:bg-blue-600 relative transition-all">Apply to All Lamps <!></button> <!></div>');function Z(_,t){F(t,!0);let i=w(!1),r=w(null);async function m(){v(i,!0),v(r,null);try{v(r,await J(t.name),!0),M.refreshPending()}catch(e){console.error(e)}v(i,!1)}function l(e){switch(e){case"day":return"â˜€ï¸";case"night":return"ðŸŒ™";case"off":return"âš¡";default:return"ðŸ’¡"}}var o=Y(),c=s(o),p=s(c),x=s(p,!0);a(p);var P=d(p,2),y=s(P),K=s(y,!0);a(y);var A=d(y,2),L=s(A,!0);a(A),a(P),a(c);var f=d(c,2);f.__click=m;var O=d(s(f));{var j=e=>{var u=W();h(e,u)};k(O,e=>{n(i)&&e(j)})}a(f);var B=d(f,2);{var E=e=>{var u=X(),H=s(u);a(u),D(()=>g(H,`${n(r).success.length??""} applied, ${n(r).pending.length??""} pending`)),h(e,u)};k(B,e=>{n(r)&&e(E)})}a(o),D(e=>{g(x,e),g(K,t.preset.name),g(L,t.preset.power?`${t.preset.brightness}% / ${t.preset.colorTemp}K`:"Off")},[()=>l(t.name)]),h(_,o),C()}R(["click"]);var $=b('<div class="space-y-6"><h2 class="text-lg font-medium">Lamp Presets</h2> <p class="text-sm text-[var(--muted)]">Apply a preset to all lamps at once</p> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div></div>');function ne(_,t){F(t,!0);let i=w(S({}));T(()=>{V&&Q().then(l=>v(i,l,!0))});var r=$();U("ib7llb",l=>{q(()=>{z.title="Smart Home - Presets"})});var m=d(s(r),4);N(m,21,()=>Object.entries(n(i)),([l,o])=>l,(l,o)=>{var c=G(()=>I(n(o),2));let p=()=>n(c)[0],x=()=>n(c)[1];Z(l,{get name(){return p()},get preset(){return x()}})}),a(m),a(r),h(_,r),C()}export{ne as component};
